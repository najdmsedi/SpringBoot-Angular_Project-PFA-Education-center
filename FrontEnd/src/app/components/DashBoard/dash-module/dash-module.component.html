
<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

<!---------------------------------------------------------------------------------------->
                      <!-- Sidebar -->    
                      <app-sidebar></app-sidebar>
                      <!-- End of Sidebar -->
<!---------------------------------------------------------------------------------------->


      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">

          <!-- Main Content -->
          <div id="content">

<!---------------------------------------------------------------------------------------->
                      <!-- Topbar --> 
                      <app-top-bar></app-top-bar>
                      <!-- End of Topbar -->
<!---------------------------------------------------------------------------------------->
<!--
<mat-table [dataSource]="etudiant" class="mat-elevation-z8">

  <ng-container matColumnDef="id">
     <mat-header-cell *matHeaderCellDef> ID </mat-header-cell>
     <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="email">
     <mat-header-cell *matHeaderCellDef> email </mat-header-cell>
     <mat-cell *matCellDef="let element"> {{element.email}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="name">
     <mat-header-cell *matHeaderCellDef> name </mat-header-cell>
     <mat-cell *matCellDef="let element"> {{element.name}} </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

</mat-table>-->

<div class="card shadow mb-4">
<div class="card-header py-3">
    <h4 class="m-0 font-weight-bold text-primary">Module</h4>
</div>
<div class="card-body">
    <div class="table-responsive">
        
      <mat-form-field style="display: flex; height: 10vh;">
        <mat-label>Search</mat-label>
        <input  matInput (keyup)="applyFilter($event)" #input>
        </mat-form-field>
        
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
          <h1 class="h3 mb-0 text-gray-800"></h1>
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
            Add Module
          </button>
      </div>
      
      
<!-- -----------------------------------------------------Modal Add---------------------------------------------------------------- -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="card-title mb-2 text-center">Add new module</h2>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form [formGroup]="myNewForm" (ngSubmit)="onSubmitNew()">
              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="NewnomModule"  formControlName="NewnomModule" required>
                <label for="NewnomModule">nom du Module</label>
              </div>
              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="NewHoraire"  formControlName="NewHoraire" required>
                <label for="NewHoraire">horaire</label>
              </div>       
              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="NewNbSeance"  formControlName="NewNbSeance" required>
                <label for="NewNbSeance">nombre de séances</label>
              </div>      
              <div>
                <select class="form-select" form-selecttype="text" formControlName="NewFormateur" id="NewFormateur" name="NewFormateur"> 
                  <option value="" disabled selected>formateur</option>
                  <option  type="text" *ngFor="let formateur of formateurs " [value]="formateur.id">{{ formateur.nom }} {{ formateur.prenom }}</option>
                </select>
              </div>
              <button type="submit" [disabled]="buttonDisabled" class="btn btn-primary btn-orange  w-100 mt-3" >Submit</button>
            </form>
          </div>         
        </div>
      </div>
    </div>
<!-- ------------------------------------------------------------------------------------------------------------------------------ -->
   
<!-- -----------------------------------------------------Modal Update---------------------------------------------------------------- -->
<div class="modal fade" id="exampleModalCenter1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="card-title mb-2 text-center">Update module</h2>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="nomModule"  formControlName="nomModule" required>
            <label for="nomModule">nom du Module</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="Horaire"  formControlName="Horaire" required>
            <label for="Horaire">horaire</label>
          </div>       
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="NbSeance"  formControlName="NbSeance" required>
            <label for="NbSeance">nombre de séances</label>
          </div>      
          <div>
            <select class="form-select" form-selecttype="text" formControlName="Formateur" id="Formateur" name="Formateur"> 
              <option value="" disabled selected>formateur</option>
              <option  type="text" *ngFor="let formateur of formateurs " [value]="formateur.id">{{ formateur.nom }} {{ formateur.prenom }}</option>
            </select>
          </div>
          <button type="submit" [disabled]="buttonDisabled" class="btn btn-primary btn-orange  w-100 mt-3" >Submit</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- ---------------------------------------------------------------------------------------------------------------------------------- -->

        
             
              
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0" mat-table [dataSource]="dataSource" >
            
          <!-- <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef> ID </th>
            <td mat-cell *matCellDef="let element"> {{element.idModule}} </td>
          </ng-container> -->
        
          <!-- Name Column -->
          <ng-container matColumnDef="Nom de Module"> 
            <th mat-header-cell *matHeaderCellDef> nomModule </th>
            <td mat-cell *matCellDef="let element"> {{element.nomModule}} </td>
          </ng-container>
        
          <!-- Weight Column -->
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> course hours </th>
            <td mat-cell *matCellDef="let element"> {{element.horaire}} </td>
          </ng-container>

          <ng-container matColumnDef="NombreDeSeance">
            <th mat-header-cell *matHeaderCellDef> Number of Sessions </th>
            <td mat-cell *matCellDef="let element"> {{element.nombreDeSeance}} </td>
          </ng-container>
        
          <ng-container matColumnDef="nomFormateur">
            <th mat-header-cell *matHeaderCellDef> trainer name </th>
            <td mat-cell *matCellDef="let element">{{element.formateur.prenom}} {{element.formateur.nom}}  </td>
          </ng-container>

          <ng-container matColumnDef="icon">
            <th mat-header-cell *matHeaderCellDef> Actions</th>
            <td mat-cell *matCellDef="let element" class="text-end">
              <div class="button-group">
                <button mat-icon-button class="edit-button" data-toggle="modal" data-target="#exampleModalCenter1" (click)="openModal(element.idModule)"><mat-icon>edit</mat-icon></button>
                <button mat-icon-button class="delete-button" (click)="delete(element.idModule)"><mat-icon>delete_forever</mat-icon></button>
              </div>
            </td>
          </ng-container>
          
          

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

      <!--_____________________________________________________________________________-->
     
      </div>
  </div>
</div>
<!---------------------------------------------------------------------------------------->

                          <!-- Logout Modal-->
                          <app-logout-modal></app-logout-modal>
                          <!-- End Logout Modal-->

<!---------------------------------------------------------------------------------------->

  

<!---------------------------------------------------------------------------------------->

                          <!-- Footer 
                          <app-dash-footer></app-dash-footer>
                          <app-dash-footer></app-dash-footer>-->
                          <!-- End of Footer -->

<!---------------------------------------------------------------------------------------->
